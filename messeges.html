<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Direct/Inbox</title>
    <link rel="icon" href="assets\instagram.png" type="image/png" />
    <link rel="stylesheet" href="messages.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="navbar.css">
    <style>
:root {
    --bg-primary: #111111;
    --bg-secondary: #000000eb;
    --border-color: #262626;
    --text-primary: #FFFFFF;
    --text-secondary: #A8A8A8;
    --accent-color: #0095F6;
    --message-sent: #0095F6;
    --message-received: #262626;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    scrollbar-width: none;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    line-height: 1.6;
}
.container {
    display: flex;
    max-height: 100vh;
    max-width: 1400px;
    margin: 0 auto;
    background-color: var(--bg-primary);
    overflow: hidden;
}
.messages-container {
    width: 400px;
    border-right: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    max-height: 100vh;
}

.messages-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    border-bottom: 1px solid var(--border-color);
}

.username {
    font-weight: 600;
    cursor: pointer;
}

.compose i {
    color: var(--text-primary);
    cursor: pointer;
}

.notes-section {
    display: flex;
    overflow-x: auto;
    padding: 10px;
    background-color: var(--bg-secondary);
    scrollbar-width: none;
    -ms-overflow-style: none;
}

.notes-section::-webkit-scrollbar {
    display: none;
}

.note-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-right: 15px;
    min-width: 80px;
    cursor: pointer;
}

.note-img-container {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    overflow: hidden;
    margin-bottom: 5px;
    border: 2px solid transparent;
    transition: border-color 0.3s;
}

.note-item:hover .note-img-container {
    border-color: var(--accent-color);
}

.note-img-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.note-username {
    color: var(--text-primary);
    font-size: 0.8em;
    max-width: 80px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.messages-list {
    flex-grow: 1;
    overflow-y: auto;
}

.messages-list::-webkit-scrollbar {
    display: none;
}

.message-item {
    display: flex;
    align-items: center;
    padding: 15px;
    cursor: pointer;
    transition: background-color 0.3s;
}

.message-item:hover {
    background-color: var(--bg-secondary);
}

.message-profile-img {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    margin-right: 15px;
    object-fit: cover;
}

.message-content {
    flex-grow: 1;
    overflow: hidden;
}

.message-name {
    font-weight: 600;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.message-preview {
    color: var(--text-secondary);
    font-size: 0.9em;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.message-screen {
    flex-grow: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: var(--bg-primary);
}

.empty-state {
    text-align: center;
    padding: 20px;
}

.messenger-icon {
    font-size: 4rem;
    color: var(--text-secondary);
    margin-bottom: 15px;
}

.send-message-btn {
    background-color: var(--accent-color);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 20px;
    cursor: pointer;
    transition: opacity 0.3s;
}

.send-message-btn:hover {
    opacity: 0.9;
}

.chat-modal {
    position: fixed;
    width: 62.5%;
    height: 100%;
    background-color: var(--bg-primary);
    z-index: 1000;
    right: 0;
    display: none;
    box-shadow: -2px 0 10px rgba(0,0,0,0.2);
}

.chat-container {
    display: flex;
    width: 100%;
    flex-direction: column;
    height: 100%;
}

.chat-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    border-bottom: 1px solid var(--border-color);
}

.chat-header-left {
    display: flex;
    align-items: center;
}

.chat-profile-img {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    margin-right: 10px;
    object-fit: cover;
}

.chat-header-right i {
    margin-left: 15px;
    color: white;
    cursor: pointer;
    transition: color 0.3s;
}

.chat-header-right i:hover {
    color: var(--accent-color);
}

.chat-messages {
    flex-grow: 1;
    overflow-y: auto;
    padding: 15px;
    display: flex;
    flex-direction: column;
}

.chat-messages::-webkit-scrollbar {
    display: none;
}

.message {
    max-width: 70%;
    margin-bottom: 10px;
    padding: 10px 15px;
    border-radius: 20px;
    word-wrap: break-word;
}

.sent-message {
    align-self: flex-end;
    background-color: var(--message-sent);
    color: white;
}

.received-message {
    align-self: flex-start;
    background-color: var(--message-received);
    color: white;
}

.chat-input {
    display: flex;
    padding: 15px;
    border-top: 1px solid var(--border-color);
}

.chat-input input {
    flex-grow: 1;
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-color);
    color: white;
    padding: 10px;
    border-radius: 20px;
    margin-right: 10px;
    outline: none;
    transition: border-color 0.3s;
}

.chat-input input:focus {
    border-color: var(--accent-color);
}

.chat-input button {
    background-color: var(--accent-color);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 20px;
    cursor: pointer;
    transition: opacity 0.3s;
}

.chat-input button:hover {
    opacity: 0.9;
}

.back-button {
    cursor: pointer;
    margin-right: 15px;
    transition: color 0.3s;
}

.back-button:hover {
    color: var(--accent-color);
}

@media (max-width: 1024px) {
    .container {
        flex-direction: column;
    }

    .chat-modal {
        width: 100%;
        position: fixed;
    }

    .messages-container {
        width: 100%;
        max-height: 50vh;
    }
}

@media (max-width: 768px) {
    .container {
        flex-direction: column;
        height: 100%;
    }


    .messages-container {
        width: 100%;
        height: 90%;
        max-height: 100vh;
    }

    .chat-modal {
        width: 100%;
        height: 100%;
        top: 0;
    }

    .message-screen {
        display: none;
    }
}

.hidden {
    display: none !important;
}
    </style>
</head>
<body>
    <div class="container">
        <nav class="navbar">
            <div class="nav-items">
                <a href="index.html">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#fff" viewBox="0 0 16 16">
                        <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233s.008-2.388.046-3.231c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92m-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217m0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"/>
                    </svg>
                </a>
                <a href="home.html">
                    <img src="assets/icons/home.svg" alt="Home" width="24" height="24"/>
                </a>
                <a href="#" id="searchBtn">
                    <img src="assets/icons/search.svg" alt="Search" width="24" height="24"/>
                </a>
                <a href="explore.html">
                    <img src="assets/icons/compass.svg" alt="Explore" width="24" height="24"/>
                </a>
                <a href="reels.html">
                    <img src="assets/icons/reels.svg" alt="Reels" width="24" height="24"/>
                </a>
                <a href="messeges.html">
                    <img src="assets/icons/messenger.svg" alt="Messages" width="24" height="24"/>
                </a>
                <a href="notification.html">
                    <img src="assets/icons/heart.svg" alt="Notifications" width="24" height="24"/>
                </a>
                <a href="create.html">
                    <img src="assets/icons/add.svg" alt="Create" width="24" height="24"/>
                </a>
                <a href="profile.html">
                    <img src="assets/my.pfp.jpg" alt="Profile" width="24" height="24"/>     
                </a>
                <a href="settings.html">
                    <img src="assets/icons/more.svg" alt="More" width="24" height="24"/>
                </a>
            </div>
        </nav>

        <nav class="mobile-nav">
            <div class="mobile-nav-items">
                <a href="home.html"><img src="assets/icons/home.svg" alt="Home" width="24" height="24"></a>
                <a href="explore.html"><img src="assets/icons/compass.svg" alt="Explore" width="24" height="24"></a>
                <a href="reels.html"><img src="assets/icons/reels.svg" alt="Reels" width="24" height="24"></a>
                <a href="create.html"><img src="assets/icons/add.svg" alt="Create" width="24" height="24"></a>
                <a href="messeges.html"><img src="assets/icons/messenger.svg" alt="Messages" width="24" height="24"></a>
                <a href="profile.html"><img src="assets/my.pfp.jpg" alt="Profile" width="24" height="24"></a>
            </div>
        </nav>
        <div class="messages-container">
            <div class="messages-header">
                <div class="username">
                    prakhar_1803_ <i class="fa-solid fa-chevron-down"></i>
                </div>
                <div class="compose">
                    <i class="fa-solid fa-pen-to-square"></i>
                </div>
            </div>
            <div class="notes-section" id="notesSection">
            </div>
            <div class="messages-list" id="messagesList">
            </div>
        </div>
  
        <div class="message-screen">
            <div class="empty-state">
                <div class="messenger-icon">
                    <i class="fa-brands fa-facebook-messenger"></i>
                </div>
                <h2>Your messages</h2>
                <p>Send a message to start a chat.</p>
                <a href="#">
                    <button class="send-message-btn">Send message</button>
                </a>
            </div>
        </div>

        <div class="chat-modal" id="chatModal">
            <div class="chat-container">
                <div class="chat-header">
                    <div class="chat-header-left">
                        <i class="fas fa-arrow-left back-button" id="backToMessages"></i>
                        <img src="" class="chat-profile-img" id="chatProfileImg">
                        <span id="chatUsername"></span>
                    </div>
                    <div class="chat-header-right">
                        <i class="fas fa-video"></i>
                        <i class="fas fa-phone"></i>
                        <i class="fas fa-info-circle"></i>
                    </div>
                </div>
                <div class="chat-messages" id="chatMessages"></div>
                <div class="chat-input">
                    <input type="text" id="messageInput" placeholder="Message...">
                    <button id="sendMessage">Send</button>
                </div>
            </div>
        </div>
    
        <script>
            const profiles = Array.from({ length: 15 }, (_, i) => `assets/pfp/${i + 1}.jpg`);
            const randomNames = [
    "hitler_og", "stalin_xo", "mussolini_official", "saddam_hussein_king", 
    "genghis_khan_legacy", "pablo_escobar_real", "kim_jong_un_boss", "osama_bin_laden_terror", 
    "francisco_franco_vision", "kim_jong_il_legacy", "pol_pot_warlord", "idi_amin_dada_ruler", 
    "benito_mussolini_kingpin", "al_capone_godfather", "p_diddy_official", "el_chapo_boss", 
    "marcus_garvey_revolution", "hussein_xo", "vladimir_putin_legend", "trump_official", 
    "peter_the_great_ruler", "leonid_brezhnev_chief", "machiavelli_the_prince", "mugabe_king", 
    "bush_warrior", "mahmoud_ahmadinejad_official", "saddam_og", "ayatollah_khamenei_wisdom", 
    "david_duke_race", "fidel_castro_revolutionary", "robert_mugabe_ruler", "benito_mussolini_prime", 
    "george_zimmerman_trial", "richard_nixon_official", "lee_kuan_yew_vision", "anwar_sadat_peace", 
    "karl_marx_visionary", "mark_zuckerberg_legend", "oswald_schindler_conspiracy", 
    "sylvio_berlusconi_controversy", "franz_ferdinand_heir", "yasser_arafat_peace", 
    "mike_tyson_fighter", "vlad_the_impaler_official", "cezar_borgia_legacy", "henry_kissinger_strategy", 
    "sharon_adept", "ahmed_shah_durrani_empire", "yuri_andropov_legend", "dr_oz_health"
];
            const messagesList = document.getElementById('messagesList');
            const chatModal = document.getElementById('chatModal');
            const backToMessages = document.getElementById('backToMessages');
            const chatProfileImg = document.getElementById('chatProfileImg');
            const chatUsername = document.getElementById('chatUsername');
            const messageInput = document.getElementById('messageInput');
            const sendMessageBtn = document.getElementById('sendMessage');
            const chatMessages = document.getElementById('chatMessages');
    
            let currentIndex = 0;
            const messagesPerLoad = 10;
    
            function getRandomName() {
                return randomNames[Math.floor(Math.random() * randomNames.length)];
            }
    
            function getRandomProfile() {
                return profiles[Math.floor(Math.random() * profiles.length)];
            }
    
            function loadMessages() {
                const fragmentContainer = document.createDocumentFragment();
                
                for (let i = 0; i < messagesPerLoad; i++) {
                    const name = getRandomName();
                    const profile = getRandomProfile();
                    const messageItem = document.createElement('div');
                    messageItem.classList.add('message-item');
                    messageItem.setAttribute('data-username', name);
                    messageItem.setAttribute('data-profile', profile);
                    messageItem.innerHTML = `
                        <img src="${profile}" class="message-profile-img">
                        <div class="message-content">
                            <div class="message-name">${name}</div>
                            <div class="message-preview">Tap to chat</div>
                        </div>
                    `;
                    messageItem.addEventListener('click', () => {
                        openChatModal(name, profile);
                    });
    
                    fragmentContainer.appendChild(messageItem);
                }
                messagesList.appendChild(fragmentContainer);
                currentIndex += messagesPerLoad;
            }
            function openChatModal(username, profile) {
                chatModal.style.display = 'flex';
                chatProfileImg.src = profile;
                chatUsername.textContent = username;
                chatMessages.innerHTML = '';
            }
            backToMessages.addEventListener('click', () => {
                chatModal.style.display = 'none';
            });


const randomReplies = [
    'hiiiiiiiiiiiiiiiiii','Ghar jao wapas aap','aap kaun ho?','koi ni bhai hota hai','It really does happen,there is nothing we can do now','skeebeedee ohio ','vo to theek hai but mai karu kya iska','aap rehene do','hello','bye bhai','hi bhai','happy easter','happy birthday bhai','sone de na bhai','terko kitni baar bola hai ki ese muh utha ke nhi ana mere pass','trust me bro you ain\'t it ','*leaves you on seen*','*ignores you*','*shoots you*','kys','*dies*','*sighs*hiiii!','*cries internally* hello','*jumps off of a cliff*','React sikha do pls','Views on world domination','koi kaam dhandha nhi hai apko?','phone dekho pure din aap to bas','hmmm.','kky','chale ja yr tu 24\\7 khali he reheta hai','mai nahi janta apko :)','*starts crying*','*scratches your face*','*stabs you*','...',
];

function getRandomReply() {
    const randomIndex = Math.floor(Math.random() * randomReplies.length);
    return randomReplies[randomIndex];
}

function sendMessage() {
    const messageText = messageInput.value.trim();
    if (messageText) {
        const messageElement = document.createElement('div');
        messageElement.classList.add('message', 'sent-message');
        messageElement.textContent = messageText;
        chatMessages.appendChild(messageElement);
        messageInput.value = '';
        chatMessages.scrollTop = chatMessages.scrollHeight;
        setTimeout(() => {
            const aiResponse = document.createElement('div');
            aiResponse.classList.add('message', 'received-message');
            aiResponse.textContent = getRandomReply();
            chatMessages.appendChild(aiResponse);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }, 1000);
    }
}

sendMessageBtn.addEventListener('click', sendMessage);
messageInput.addEventListener('keydown', (event) => {
    if (event.key === 'Enter') {
        sendMessage();
    }
});


            let isLoading = false;
            messagesList.addEventListener('scroll', () => {
                if (isLoading) return;
    
                if (messagesList.scrollHeight - messagesList.scrollTop - messagesList.clientHeight < 100) {
                    isLoading = true;
                    loadMessages();
                    setTimeout(() => { isLoading = false; }, 100);
                }
            });
            document.addEventListener('DOMContentLoaded', () => {
                loadMessages();
            });
        </script>
            <script src="nav.js"></script>
            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    const chatModal = document.getElementById('chatModal');
                    const backToMessages = document.getElementById('backToMessages');
                    const messageItems = document.querySelectorAll('.message-item');
                    messageItems.forEach(item => {
                        item.addEventListener('click', (e) => {
                            const username = item.getAttribute('data-username');
                            const profile = item.getAttribute('data-profile');
                            if (window.innerWidth <= 768) {
                                chatModal.style.display = 'flex';
                                document.querySelector('.messages-container').style.display = 'none';
                            } else {
                                chatModal.style.display = 'flex';
                            }
                            document.getElementById('chatProfileImg').src = profile;
                            document.getElementById('chatUsername').textContent = username;
                            document.getElementById('chatMessages').innerHTML = '';
                        });
                    });
                    backToMessages.addEventListener('click', () => {
                        chatModal.style.display = 'none';
                        if (window.innerWidth <= 768) {
                            document.querySelector('.messages-container').style.display = 'block';
                        }
                    });
            
                    window.addEventListener('resize', () => {
                        if (window.innerWidth > 768) {
                            document.querySelector('.messages-container').style.display = 'block';
                            chatModal.style.display = 'none';
                        }
                    });
                });
            </script>
    </body>
    </html>